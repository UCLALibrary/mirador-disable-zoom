var MiradorDisableZoom={locales:{en:{translation:{"button-tooltip":"Disable zoom controls on this window"}}},template:Mirador.Handlebars.compile(['<a href="javascript:;" class="mirador-btn mirador-icon-disable-zoom contained-tooltip" title="{{t "button-tooltip"}}">','<i class="fa fa-search fa-lg fa-fw"></i>','<i class="fa fa-lock"></i>',"</a>"].join("")),init:function(){var o=this;i18next.on("initialized",function(){for(var i in o.locales){var t="translation";i18next.addResourceBundle(i,t,o.locales[i][t],!0,!0)}}),function(i){var t=i.Window,e=i.Window.prototype,n=i.Window.prototype.bindEvents,r=i.Window.prototype.listenForActions;i.Window.prototype.listenForActions=function(){var o=this;r.apply(this,arguments),this.eventEmitter.subscribe("focusUpdated"+this.id,function(i,t){o.element.find(".mirador-icon-disable-zoom").removeClass("selected")})},i.Window.prototype.bindEvents=function(){var i=this;n.apply(this,arguments),this.element.find(".window-manifest-navigation").prepend(o.template()),this.element.find(".mirador-icon-disable-zoom").on("click",function(o){i.toggleZoomLock(this,!i.windowZoomDisabled)})},i.Window.prototype.toggleZoomLock=function(o,i){!0===i?(this.eventEmitter.publish("disableOsdZoom."+this.id),jQuery(o).addClass("selected")):(this.eventEmitter.publish("enableOsdZoom."+this.id),jQuery(o).removeClass("selected")),this.windowZoomDisabled=!!i},i.Window=function(){return new t(jQuery.extend(!0,Array.prototype.slice.call(arguments)[0],{windowZoomDisabled:!1}))},i.Window.prototype=e}(Mirador),function(o){["BookView","ImageView"].forEach(function(i){var t=o[i],e=o[i].prototype,n=o[i].prototype.listenForActions;o[i].prototype.listenForActions=function(){var o=this;n.apply(this,arguments),this.eventEmitter.subscribe("disableOsdZoom."+this.windowId,function(i){o.osd.zoomPerClick=1,o.osd.zoomPerScroll=1}),this.eventEmitter.subscribe("enableOsdZoom."+this.windowId,function(i){o.osd.zoomPerClick=o.defaultWindowZoomPerClick,o.osd.zoomPerScroll=o.defaultWindowZoomPerScroll})},o[i]=function(){return new t(jQuery.extend(!0,Array.prototype.slice.call(arguments)[0],{defaultWindowZoomPerClick:1.2,defaultWindowZoomPerScroll:1.2}))},o[i].prototype=e})}(Mirador)}};$(document).ready(function(){MiradorDisableZoom.init()});